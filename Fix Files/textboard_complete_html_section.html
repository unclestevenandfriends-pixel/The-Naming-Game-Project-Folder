<!-- 
  COMPLETE TEXTBOARD HTML SECTION
  This replaces lines 1917-2007 in Draft_1_The_Naming_Game_Index.HTML
  All tools restored from textboard_v14_fixed.html
-->

    <div id="textboard-overlay" class="hidden">
      <div id="textboard-toolbar">
        <!-- ROW 1: AI Tools & Actions -->
        <div class="tb-toolbar-row">
          <div class="tb-toolbar-scroll">
            <!-- Mode Buttons -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-mode-blank" title="Blank Textboard">Blank</button>
              <button class="tb-btn" id="btn-mode-convo" title="Conversation Mode">Convo</button>
              <button class="tb-btn" id="btn-mode-dynamic" title="Dynamic Conversation Mode">Dynamic</button>
            </div>
            <div class="tb-separator"></div>
            
            <!-- Punctuation -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-punct-check" title="Punctuation Check">P?</button>
              <button class="tb-btn" id="btn-punct-correct" title="Punctuation Correct">P‚úì</button>
            </div>
            <div class="tb-separator"></div>
            
            <!-- Spelling -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-spell-check" title="Spelling Check">S?</button>
              <button class="tb-btn" id="btn-spell-correct" title="Spelling Correct">S‚úì</button>
            </div>
            <div class="tb-separator"></div>
            
            <!-- Grammar -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-grammar-check" title="Grammar Check">G?</button>
              <button class="tb-btn" id="btn-grammar-correct" title="Grammar Correct">G‚úì</button>
            </div>
            <div class="tb-separator"></div>
            
            <!-- SPAG Combined -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-spag-check" title="SPAG Check">‚ú®?</button>
              <button class="tb-btn" id="btn-spag-correct" title="SPAG Correct">‚ú®‚úì</button>
            </div>
            <div class="tb-separator"></div>
            
            <!-- Spoken Grammar (RESTORED) -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-spoken-grammar-check" title="Spoken Grammar Check">SG?</button>
              <button class="tb-btn" id="btn-spoken-grammar-correct" title="Spoken Grammar Correct">SG‚úì</button>
            </div>
            <div class="tb-separator"></div>
            
            <!-- Mode Toggle, Comment, Paraphrase -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn tb-toggle" id="btn-mode-toggle" title="Toggle Replace/Insert Below">‚ÜîÔ∏è</button>
              <button class="tb-btn" id="btn-comment" title="Comment">üí¨</button>
              <button class="tb-btn" id="btn-paraphrase" title="Paraphrase">Para</button>
              <select id="paraphrase-style" class="tb-dropdown" title="Paraphrase Style">
                <option value="Formal">Formal</option>
                <option value="Creative">Creative</option>
                <option value="Advanced vocabulary">Advanced</option>
                <option value="Casual (spoken)">Casual</option>
                <option value="Uncle Steven style">Uncle Steven</option>
                <option value="Custom">Custom...</option>
              </select>
            </div>
          </div>
          
          <!-- Actions (Right Side) -->
          <div class="tb-toolbar-actions">
            <!-- Projector Toggle (RESTORED) -->
            <button class="tb-btn" id="btn-projector" title="Toggle Projector">üìΩÔ∏è</button>
            
            <!-- Undo/Redo -->
            <button class="tb-btn" id="btn-undo" title="Undo">‚Ü©Ô∏è</button>
            <button class="tb-btn" id="btn-redo" title="Redo">‚Ü™Ô∏è</button>
            
            <!-- Voice Tools (RESTORED) -->
            <button id="tb-mic-btn" class="tb-btn" title="Voice Type">üé§</button>
            <button id="tb-mic-spag-btn" class="tb-btn" title="Voice + Auto SPAG">üé§‚ú®</button>
            
            <!-- AI Status (RESTORED with Apply/Discard) -->
            <div id="ai-status" class="tb-ai-status hidden">
              <span class="tb-ai-spinner" aria-hidden="true"></span>
              <span id="ai-status-text">Marking...</span>
              <button id="ai-apply-btn" class="tb-btn tb-btn-mini" title="Apply AI Result">Apply</button>
              <button id="ai-discard-btn" class="tb-btn tb-btn-mini" title="Dismiss AI Result">Dismiss</button>
            </div>
            
            <div class="tb-separator"></div>
            
            <!-- Export -->
            <button class="tb-btn" id="btn-export-img" title="Export as Image">üì∑</button>
            <button class="tb-btn" id="btn-export-pdf" title="Export as PDF">üìÑ</button>
            <button class="tb-btn" id="btn-export-docx" title="Export as Word">üìù</button>
            
            <div class="tb-separator"></div>
            
            <!-- Clear & Close -->
            <button class="tb-btn hover:text-red-400" id="btn-clear" title="Clear">üóëÔ∏è</button>
            <button class="tb-btn hover:text-white" id="btn-close" title="Close">‚úï</button>
          </div>
        </div>

        <!-- ROW 2: Formatting Tools -->
        <div class="tb-toolbar-row">
          <div class="tb-toolbar-scroll">
            <!-- Stamps (ALL 5 RESTORED) -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn stamp-btn" data-stamp="‚úÖ" title="Correct">‚úÖ</button>
              <button class="tb-btn stamp-btn" data-stamp="‚ùå" title="Incorrect">‚ùå</button>
              <button class="tb-btn stamp-btn" data-stamp="‚≠ê" title="Excellent">‚≠ê</button>
              <button class="tb-btn stamp-btn" data-stamp="‚ö†Ô∏è" title="Needs work">‚ö†Ô∏è</button>
              <button class="tb-btn stamp-btn" data-stamp="‚ùì" title="Question">‚ùì</button>
            </div>

            <div class="tb-separator"></div>

            <!-- Font Dropdown (RESTORED) -->
            <div class="tb-dropdown-container">
              <button class="tb-btn" id="font-btn" title="Font">
                <span id="current-font-label" class="mr-2">Nunito Sans</span> ‚ñº
              </button>
              <div id="font-menu" class="tb-dropdown-menu">
                <button class="tb-dropdown-item" style="font-family: 'Nunito Sans';" data-font="Nunito Sans">Nunito Sans</button>
                <button class="tb-dropdown-item" style="font-family: 'Fredoka';" data-font="Fredoka">Fredoka</button>
                <button class="tb-dropdown-item" style="font-family: 'Lexend';" data-font="Lexend">Lexend</button>
                <button class="tb-dropdown-item" style="font-family: 'Courier Prime';" data-font="Courier Prime">Courier Prime</button>
                <div class="h-px bg-white/10 my-1"></div>
                <button class="tb-dropdown-item" style="font-family: 'Caveat Brush';" data-font="Caveat Brush">Caveat Brush</button>
                <button class="tb-dropdown-item" style="font-family: 'Kalam';" data-font="Kalam">Kalam</button>
                <button class="tb-dropdown-item" style="font-family: 'Patrick Hand';" data-font="Patrick Hand">Patrick Hand</button>
                <button class="tb-dropdown-item" style="font-family: 'Indie Flower';" data-font="Indie Flower">Indie Flower</button>
              </div>
            </div>

            <!-- Size Dropdown (RESTORED) -->
            <div class="tb-dropdown-container">
              <button class="tb-btn" id="size-btn" title="Font Size">
                <span id="current-size-label" class="mr-1">Size 3</span> ‚ñº
              </button>
              <div id="size-menu" class="tb-dropdown-menu" style="min-width: 140px;">
                <button class="tb-dropdown-item text-xs" data-size="1">Size 1</button>
                <button class="tb-dropdown-item text-sm" data-size="2">Size 2</button>
                <button class="tb-dropdown-item text-base" data-size="3">Size 3</button>
                <button class="tb-dropdown-item text-lg" data-size="4">Size 4</button>
                <button class="tb-dropdown-item text-xl" data-size="5">Size 5</button>
                <button class="tb-dropdown-item text-2xl" data-size="6">Size 6</button>
                <button class="tb-dropdown-item text-3xl" data-size="7">Size 7</button>
              </div>
            </div>

            <div class="tb-separator"></div>

            <!-- Formatting: Bold, Italic, Underline, Strikethrough (ALL 4 RESTORED) -->
            <button class="tb-btn" id="btn-bold" title="Bold"><b>B</b></button>
            <button class="tb-btn" id="btn-italic" title="Italic"><i>I</i></button>
            <button class="tb-btn" id="btn-underline" title="Underline"><u>U</u></button>
            <button class="tb-btn" id="btn-strike" title="Strikethrough"><s>S</s></button>

            <div class="tb-separator"></div>

            <!-- Text Color (RESTORED) -->
            <div class="tb-dropdown-container">
              <button class="tb-btn" id="color-btn" title="Text Color">
                A <span id="color-indicator" style="display:inline-block;width:12px;height:12px;background:white;border-radius:2px;margin-left:4px;border:1px solid rgba(255,255,255,0.3);"></span>
              </button>
              <div id="color-menu" class="tb-dropdown-menu">
                <div class="p-2 text-xs text-slate-400">Text Color</div>
                <div class="tb-color-grid" id="text-color-grid"></div>
              </div>
            </div>
            
            <!-- Highlight Color (RESTORED) -->
            <div class="tb-dropdown-container">
              <button class="tb-btn" id="hilite-btn" title="Highlight">
                üñçÔ∏è <span id="hilite-indicator" style="display:inline-block;width:12px;height:12px;background:transparent;border-radius:2px;margin-left:4px;border:1px solid rgba(255,255,255,0.3);"></span>
              </button>
              <div id="hilite-menu" class="tb-dropdown-menu">
                <div class="p-2 text-xs text-slate-400">Highlight</div>
                <div class="tb-dropdown-item" data-hilite="transparent">üö´ None</div>
                <div class="tb-color-grid" id="hilite-color-grid"></div>
              </div>
            </div>

            <div class="tb-separator"></div>

            <!-- Alignment (RESTORED) -->
            <button class="tb-btn" id="btn-left" title="Align Left">‚¨ÖÔ∏è</button>
            <button class="tb-btn" id="btn-center" title="Center">‚ÜîÔ∏è</button>
            <button class="tb-btn" id="btn-right" title="Align Right">‚û°Ô∏è</button>

            <div class="tb-separator"></div>

            <!-- Lists -->
            <button class="tb-btn" id="btn-ul" title="Bullet List">‚Ä¢ List</button>
            <button class="tb-btn" id="btn-ol" title="Numbered List">1. List</button>
            
            <!-- Indent/Outdent (RESTORED) -->
            <button class="tb-btn" id="btn-indent" title="Indent">‚Üí|</button>
            <button class="tb-btn" id="btn-outdent" title="Outdent">|‚Üê</button>

            <div class="tb-separator"></div>

            <!-- Drawing Tools (RESTORED) -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-pen" title="Pen (Toggle Drawing Mode)">üñäÔ∏è</button>
              <button class="tb-btn drawing-size-btn" data-size="2" title="Small">S</button>
              <button class="tb-btn drawing-size-btn active" data-size="4" title="Medium">M</button>
              <button class="tb-btn drawing-size-btn" data-size="8" title="Large">L</button>
            </div>
            
            <!-- Drawing Colors (RESTORED) -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn drawing-color-btn active" data-color="#000000" title="Black">‚ö´</button>
              <button class="tb-btn drawing-color-btn" data-color="#ef4444" title="Red">üî¥</button>
              <button class="tb-btn drawing-color-btn" data-color="#3b82f6" title="Blue">üîµ</button>
              <button class="tb-btn drawing-color-btn" data-color="#22c55e" title="Green">üü¢</button>
              <button class="tb-btn drawing-color-btn" data-color="#eab308" title="Yellow">üü°</button>
              <button class="tb-btn drawing-color-btn" data-color="#a855f7" title="Purple">üü£</button>
            </div>
            
            <!-- Eraser & Clear Drawing (RESTORED) -->
            <div class="tb-group flex items-center gap-1">
              <button class="tb-btn" id="btn-eraser" title="Eraser">üßΩ</button>
              <button class="tb-btn" id="btn-clear-drawing" title="Clear Drawing">üóëÔ∏è</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Editor Area -->
      <div id="textboard-editor" contenteditable="true" spellcheck="false" placeholder="Type or speak here..."></div>
      
      <!-- Drawing Canvas (RESTORED) -->
      <canvas id="drawing-canvas"></canvas>
      
      <!-- Image Resizer (RESTORED) -->
      <div id="image-resizer" class="tb-image-resizer">
        <div class="tb-resizer-handle tl" data-handle="tl"></div>
        <div class="tb-resizer-handle tr" data-handle="tr"></div>
        <div class="tb-resizer-handle bl" data-handle="bl"></div>
        <div class="tb-resizer-handle br" data-handle="br"></div>
      </div>
    </div>

    <!-- Tooltip (RESTORED) -->
    <div id="tb-tooltip"></div>

    <!-- Custom Style Modal -->
    <div id="custom-style-overlay" class="tb-modal-overlay hidden"></div>
    <div id="custom-style-modal" class="tb-modal hidden">
      <div style="color:#22d3ee; font-weight:bold; margin-bottom:12px;">Custom Paraphrase Style</div>
      <textarea id="custom-style-input" placeholder="Describe your style, e.g., 'Write like a pirate' or 'Use very formal academic language'..."></textarea>
      <div class="tb-modal-buttons">
        <button class="tb-modal-cancel" id="custom-style-cancel">Cancel</button>
        <button class="tb-modal-apply" id="custom-style-apply">Apply &amp; Paraphrase</button>
      </div>
    </div>
